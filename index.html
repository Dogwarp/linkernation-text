<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>リンカーネイション 簡易スレッドデモ</title>
<style>
body { font-family: "Yu Gothic", sans-serif; background-color: #fdf6e3; color: #333; padding: 20px; }
h1 { color: #b58900; }
#spectateBtn {
  position: fixed;
  top: 15px;
  right: 15px;
  z-index: 1000;
  background-color: #b58900;
  color: #fff;
  border: none;
  border-radius: 5px;
  padding: 8px 12px;
  cursor: pointer;
  font-weight: bold;
  font-size: 14px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  transition: all 0.2s ease;
}
#spectateBtn:hover { background-color: #cb4b16; transform: translateY(-2px); }
#newPost { margin-top: 20px; }
.post { border-bottom: 1px solid #ccc; padding: 5px 0; }
.postTitle { font-weight: bold; }
</style>
</head>
<body>

<h1>リンカーネイション 簡易スレッドデモ</h1>
<button id="spectateBtn" onclick="toggleSpectate()">👁️ 観戦モード</button>

<div id="thread">
  <!-- 投稿がここに追加される -->
</div>

<form id="newPost" onsubmit="submitPost(event)">
  <input type="text" id="title" placeholder="タイトルを入力 (1行推奨)" style="width: 70%;" required>
  <button type="submit">投稿</button>
</form>

<script>
let spectate = false;

function toggleSpectate() {
  spectate = !spectate;
  const form = document.getElementById('newPost');
  const btn = document.getElementById('spectateBtn');
  if(spectate) {
    form.style.display = 'none';
    btn.textContent = '✏️ 投稿モードに戻る';
  } else {
    form.style.display = 'block';
    btn.textContent = '👁️ 観戦モード';
  }
}

function submitPost(e) {
  e.preventDefault();
  const titleInput = document.getElementById('title');
  const thread = document.getElementById('thread');
  const post = document.createElement('div');
  post.className = 'post';
  post.innerHTML = `<div class="postTitle">${titleInput.value}</div>`;
  thread.prepend(post); // 新しい投稿を上に追加
  titleInput.value = '';
}
</script>

</body>
</html>
